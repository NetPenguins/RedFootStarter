<head>
    <title class="h1">Recent Sightings</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link class="img" type="text/css" rel="stylesheet" href="newcss.css">
</head>
<body>
        <div class="mainImage">
                <img class="mainImage" src="632c0bf2c7c2bd65-APEXLOGO-HORIZ-APEXGREEN-v2.png" alt=""/>
            </div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="sightings.html">Recent Sightings</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
            <script type="text/javascript" src="./main.js"></script>
            <script type="text/javascript" src="index.js"></script>
            <h1 class="header" align="center">Recent Sightings Map</h1>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
    integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
    crossorigin=""></script>
    
    <div id="mapid"></div>
    <script>
    function getLocation(callback) {
        if (navigator.geolocation) {
            var lat_lng = navigator.geolocation.getCurrentPosition(function(position){
            console.log(position);
            var user_position = {};
            user_position.lat = position.coords.latitude; 
            user_position.lng = position.coords.longitude; 
            callback(user_position);
            });
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    }
    
    getLocation(function(lat_lng){
        var lt = lat_lng.lat;
        var lg = lat_lng.lng;
        if(!navigator.geolocation) {
            aler("Use of Location is set to off. Using default...");
            lt = 36.7783;
            lg = 119.4179;
        }
        var mymap = L.map('mapid').setView([lt, lg], 14);
            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 20,
        id: 'mapbox.streets',
        accessToken: 'pk.eyJ1IjoiY3dpbHMxOTIiLCJhIjoiY2p5Ym5ocTM4MDhubDNrb2NyNThjZjd6OCJ9.dlN48W8s4lnsCmLYCBhdTw'
        }).addTo(mymap);
       
        mymap.on('click', function(e){
        var coord = e.latlng;
        var lt = coord.lat;
        var lg = coord.lng;
        var position = {};
        position.lat = lt;
        position.lng = lg;
        cir(lt, lg);
        });
        function cir(lt, lg){
            var pred = window.prompt("Name of Predator: ", "Example: 'Black Bear'");
            if (pred.trim() === null || pred.trim() === "" || pred.trim() === "Example: 'Black Bear'"){
                alert('No Predator Input');
            }else{
                var circle = L.circle([lt, lg], {
                    color: 'red',
                    fillColor: '#f03',
                    fillOpacity: 0.5,
                    radius: 600
                }).addTo(mymap);
                circle.bindPopup("Predator Spotted: " + pred);
            }
        }
    });
    
    </script>
</body>